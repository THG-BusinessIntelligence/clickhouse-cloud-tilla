CREATE TABLE raw_shopify.abandoned_checkouts
(
    `_airbyte_raw_id` String,
    `_airbyte_extracted_at` DateTime64(3),
    `_airbyte_meta` String,
    `_airbyte_generation_id` UInt32,
    `id` Int64,
    `name_hashed` Nullable(String),
    `note` Nullable(String),
    `email_hashed` Nullable(String),
    `phone_hashed` Nullable(String),
    `token` Nullable(String),
    `source` Nullable(String),
    `gateway` Nullable(String),
    `user_id` Nullable(Int64),
    `currency` Nullable(String),
    `customer_hashed` Nullable(String),
    `shop_url` Nullable(String),
    `closed_at` Nullable(DateTime64(3)),
    `device_id` Nullable(Int64),
    `tax_lines` Nullable(String),
    `total_tax` Nullable(Decimal(38, 9)),
    `cart_token` Nullable(String),
    `created_at` Nullable(DateTime64(3)),
    `line_items` Nullable(String),
    `source_url` Nullable(String),
    `updated_at` Nullable(DateTime64(3)),
    `location_id` Nullable(Int64),
    `source_name` Nullable(String),
    `total_price` Nullable(Decimal(38, 9)),
    `completed_at` Nullable(DateTime64(3)),
    `landing_site` Nullable(String),
    `total_weight` Nullable(Int64),
    `discount_codes` Nullable(String),
    `referring_site` Nullable(String),
    `shipping_lines` Nullable(String),
    `subtotal_price` Nullable(Decimal(38, 9)),
    `taxes_included` Nullable(Bool),
    `billing_address_hashed` Nullable(String),
    `customer_locale` Nullable(String),
    `note_attributes` Nullable(String),
    `total_discounts` Nullable(Decimal(38, 9)),
    `shipping_address_hashed` Nullable(String),
    `source_identifier` Nullable(String),
    `presentment_currency` Nullable(String),
    `abandoned_checkout_url` Nullable(String),
    `total_line_items_price` Nullable(Decimal(38, 9)),
    `buyer_accepts_marketing` Nullable(Bool)
)
ENGINE = SharedReplacingMergeTree('/clickhouse/tables/{uuid}/{shard}', '{replica}')
ORDER BY id
SETTINGS index_granularity = 8192