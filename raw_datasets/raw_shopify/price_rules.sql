CREATE TABLE raw_shopify.price_rules
(
    `_airbyte_raw_id` String,
    `_airbyte_extracted_at` DateTime64(3),
    `_airbyte_meta` String,
    `_airbyte_generation_id` UInt32,
    `id` Int64,
    `title` Nullable(String),
    `value` Nullable(String),
    `ends_at` Nullable(DateTime64(3)),
    `shop_url` Nullable(String),
    `starts_at` Nullable(DateTime64(3)),
    `created_at` Nullable(DateTime64(3)),
    `deleted_at` Nullable(DateTime64(3)),
    `updated_at` Nullable(DateTime64(3)),
    `value_type` Nullable(String),
    `target_type` Nullable(String),
    `usage_limit` Nullable(Int64),
    `deleted_message` Nullable(String),
    `allocation_limit` Nullable(Int64),
    `target_selection` Nullable(String),
    `allocation_method` Nullable(String),
    `once_per_customer` Nullable(Bool),
    `customer_selection` Nullable(String),
    `deleted_description` Nullable(String),
    `admin_graphql_api_id` Nullable(String),
    `entitled_country_ids` Nullable(String),
    `entitled_product_ids` Nullable(String),
    `entitled_variant_ids` Nullable(String),
    `entitled_collection_ids` Nullable(String),
    `prerequisite_product_ids` Nullable(String),
    `prerequisite_variant_ids` Nullable(String),
    `prerequisite_customer_ids` Nullable(String),
    `prerequisite_collection_ids` Nullable(String),
    `prerequisite_quantity_range` Nullable(String),
    `prerequisite_subtotal_range` Nullable(String),
    `prerequisite_saved_search_ids` Nullable(String),
    `customer_segment_prerequisite_ids` Nullable(String),
    `prerequisite_shipping_price_range` Nullable(String),
    `prerequisite_to_entitlement_purchase` Nullable(String),
    `prerequisite_to_entitlement_quantity_ratio` Nullable(String)
)
ENGINE = SharedReplacingMergeTree('/clickhouse/tables/{uuid}/{shard}', '{replica}')
ORDER BY id
SETTINGS index_granularity = 8192